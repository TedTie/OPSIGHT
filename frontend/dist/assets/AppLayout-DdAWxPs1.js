import{m as A,c,o as l,a,_ as X,b as j,F as ie,r as ue,n as fe,t as D,u as we,d as ge,e as R,f as de,w as W,g as be,h as v,i as $,j as o,k as e,l as z,p as h,q as S,s as pe,v as xe,x as Q,E as le,y as Se,z as Ae,A as Me,B as $e}from"./index-B9ntIOOh.js";import{U as Ce}from"./user-CuZwciWH.js";import{T as Be}from"./chart-line-TBomc0Zu.js";import{D as Ie}from"./file-text-RiLVEpJL.js";const Ee={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Te(p,r){return l(),c("svg",Ee,[...r[0]||(r[0]=[a("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[a("path",{d:"M4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm5-2v16"}),a("path",{d:"m14 10l2 2l-2 2"})],-1)])])}const De=A({name:"tabler-layout-sidebar-left-expand",render:Te}),Ne={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ve(p,r){return l(),c("svg",Ne,[...r[0]||(r[0]=[a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3H4a4 4 0 0 0 2-3v-3a7 7 0 0 1 4-6M9 17v1a3 3 0 0 0 6 0v-1"},null,-1)])])}const ve=A({name:"tabler-bell",render:Ve}),ze={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Re(p,r){return l(),c("svg",ze,[...r[0]||(r[0]=[a("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[a("path",{d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37c1 .608 2.296.07 2.572-1.065"}),a("path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0-6 0"})],-1)])])}const ke=A({name:"tabler-settings",render:Re}),je={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function He(p,r){return l(),c("svg",je,[...r[0]||(r[0]=[a("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[a("path",{d:"M14 8V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2v-2"}),a("path",{d:"M9 12h12l-3-3m0 6l3-3"})],-1)])])}const Le=A({name:"tabler-logout",render:He}),Oe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function qe(p,r){return l(),c("svg",Oe,[...r[0]||(r[0]=[a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m6 9l6 6l6-6"},null,-1)])])}const Je=A({name:"tabler-chevron-down",render:qe}),Fe={class:"text-flip","aria-hidden":"true"},Ue={__name:"TextFlip",props:{text:{type:String,required:!0},duration:{type:Number,default:600},stagger:{type:Number,default:60}},setup(p){const r=p,u=j(()=>Array.from(r.text));return(M,I)=>(l(),c("span",Fe,[(l(!0),c(ie,null,ue(u.value,(w,d)=>(l(),c("span",{key:d+"-"+w,class:"flip-char",style:fe({"--delay":`${d*p.stagger}ms`,"--dur":`${p.duration}ms`})},D(w),5))),128))]))}},Ge=X(Ue,[["__scopeId","data-v-49aa6d28"]]),Ke={class:"header-left"},Pe={class:"app-title"},Ye={class:"header-right"},Qe={class:"notification-header"},We={class:"notification-list"},Xe={key:0,class:"empty-notifications"},Ze=["onClick"],et={class:"notification-content"},tt={class:"notification-title"},ot={class:"notification-message"},st={class:"notification-time"},nt={key:0,class:"notification-dot"},at={key:1,class:"empty-notifications"},rt={class:"notif-dialog-toolbar"},lt={class:"notif-dialog-list"},it={key:0,class:"empty-notifications"},ut={key:1},dt=["onClick"],ct={class:"notification-title"},mt={class:"notification-message"},_t={class:"notification-time"},pt={class:"notification-actions"},vt={key:0,class:"notification-dot"},ht={key:0,class:"empty-notifications"},ft={class:"user-info"},gt={class:"username"},he="notifications_read_map",kt={__name:"AppHeader",emits:["toggle-sidebar"],setup(p,{emit:r}){"false".toLowerCase();const u=we(),M=ge(),I=r,w=R(0),d=R([]),y=R(!1),i=R(!1),t=R("all"),b=j(()=>({all:d.value.length,task:d.value.filter(s=>s.type==="task").length,system:d.value.filter(s=>s.type==="system").length,report:d.value.filter(s=>s.type==="report").length})),g=j(()=>t.value==="all"?d.value:d.value.filter(s=>s.type===t.value)),x=()=>{},C=R({}),F=()=>{try{C.value=JSON.parse(localStorage.getItem(he)||"{}")}catch{C.value={}}},O=()=>{try{localStorage.setItem(he,JSON.stringify(C.value))}catch{}},Z=j(()=>{var s;return((s=M.user)==null?void 0:s.avatar)||""}),ee=j(()=>{var n;const s=M.user;return s?s.full_name?s.full_name.charAt(0).toUpperCase():((n=s.username)==null?void 0:n.charAt(0).toUpperCase())||"U":""}),te=()=>{I("toggle-sidebar")},U=async s=>{switch(s){case"profile":u.push("/profile");break;case"settings":u.push("/settings");break;case"logout":try{await Se.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await M.logout(),u.push("/login")}catch{}break}},oe=s=>{switch(s){case"viewAll":i.value=!0;break}},G=s=>{s.is_read=!0,C.value[s.id]=!0,O(),H(),_e([s.id])},K=s=>{var n,k;switch(G(s),s.type){case"task":(n=s.meta)!=null&&n.taskId?u.push({path:"/tasks",query:{openTaskId:s.meta.taskId}}):u.push("/tasks");break;case"report":(k=s.meta)!=null&&k.date?u.push({path:"/reports",query:{date:s.meta.date}}):u.push("/reports");break;case"system":le.info(s.message);break}},se=s=>{var n;try{(n=s==null?void 0:s.meta)!=null&&n.taskId?(G(s),u.push({path:"/tasks",query:{openTaskId:s.meta.taskId}})):u.push("/tasks")}catch(k){console.error("跳转完成任务失败：",k),le.error("打开任务完成入口失败")}},P=()=>{d.value.forEach(s=>{s.is_read=!0,C.value[s.id]=!0}),O(),H(),_e(d.value.map(s=>s.id)),le.success("所有通知已标记为已读")},H=()=>{w.value=d.value.filter(s=>!s.is_read).length},ce=s=>{const n=typeof s=="string"?new Date(s):s,f=new Date-n,N=Math.floor(f/(1e3*60)),B=Math.floor(f/(1e3*60*60)),E=Math.floor(f/(1e3*60*60*24));return N<1?"刚刚":N<60?`${N}分钟前`:B<24?`${B}小时前`:E<7?`${E}天前`:n.toLocaleDateString()},Y=async()=>{var s;if(!M.isAuthenticated){d.value=[],H();return}y.value=!0;try{const n=[],f=(await Q.get("/tasks",{params:{page:1,size:50},suppressErrorMessage:!0})).data,N=Array.isArray(f)?f:f.items||f.data||[],B=new Date,E=24*60*60*1e3;N.forEach(_=>{if(_.is_completed===!0||_.status==="done"||!_.due_date)return;const T=new Date(_.due_date),L=T.getTime()-B.getTime(),J=L<0,ae=L>=0&&L<=E;!J&&!ae||n.push({id:`task-${_.id}`,title:J?"任务逾期":"任务提醒",message:J?`${_.title} 已逾期`:`${_.title} 将在24小时内到期`,type:"task",is_read:!1,created_at:T,meta:{taskId:_.id}})});const q=(s=M.user)==null?void 0:s.id;if(q){const _=new Date().toISOString().split("T")[0],T=(await Q.get("/reports",{params:{page:1,size:1,date_from:_,date_to:_,user_id:q},suppressErrorMessage:!0})).data;(Array.isArray(T)?T.length:(T.items||T.data||[]).length||0)===0&&n.push({id:`report-${_}`,title:"日报提醒",message:"今日日报尚未提交，请及时完成",type:"report",is_read:!1,created_at:new Date,meta:{date:_}})}d.value=n.sort((_,V)=>new Date(V.created_at)-new Date(_.created_at)),d.value.forEach(_=>{C.value[_.id]&&(_.is_read=!0)}),H()}catch(n){console.error("刷新通知失败：",n),d.value.length===0&&(d.value=[],H())}finally{y.value=!1}},me=async()=>{var s;try{const n=await Q.get("/notifications/read-map",{suppressErrorMessage:!0});(((s=n==null?void 0:n.data)==null?void 0:s.ids)||[]).forEach(f=>{C.value[f]=!0}),O(),d.value.forEach(f=>{C.value[f.id]&&(f.is_read=!0)}),H()}catch{}},_e=async s=>{if(!(!Array.isArray(s)||s.length===0))try{await Q.post("/notifications/read",{ids:s},{suppressErrorMessage:!0})}catch{}};de(async()=>{F(),await me(),await Y()}),W(()=>M.user,async()=>{F(),await me(),await Y()});let ne;return de(()=>{ne=setInterval(()=>Y(),5*60*1e3)}),be(()=>{ne&&clearInterval(ne)}),(s,n)=>{const k=v("el-button"),f=v("el-badge"),N=v("el-divider"),B=v("el-icon"),E=v("el-dropdown-item"),q=v("el-dropdown-menu"),_=v("el-dropdown"),V=v("el-tab-pane"),T=v("el-tabs"),L=v("el-dialog"),J=v("el-avatar"),ae=v("el-header");return l(),$(ae,{class:"app-header"},{default:o(()=>[a("div",Ke,[e(k,{type:"text",icon:z(De),class:"menu-toggle",onClick:te},null,8,["icon"]),a("h1",Pe,[e(Ge,{text:"OPSIGHT"})])]),a("div",Ye,[e(_,{onCommand:oe,trigger:"click"},{dropdown:o(()=>[e(q,null,{default:o(()=>[a("div",Qe,[n[3]||(n[3]=a("span",null,"通知消息",-1)),e(k,{type:"text",size:"small",onClick:P},{default:o(()=>[...n[2]||(n[2]=[h("全部已读",-1)])]),_:1})]),e(N,{style:{margin:"8px 0"}}),a("div",We,[y.value?(l(),c("div",Xe,"加载中…")):S("",!0),(l(!0),c(ie,null,ue(d.value,m=>(l(),c("div",{key:m.id,class:pe(["notification-item",{unread:!m.is_read}]),onClick:re=>K(m)},[a("div",et,[a("div",tt,D(m.title),1),a("div",ot,D(m.message),1),a("div",st,D(ce(m.created_at)),1)]),m.is_read?S("",!0):(l(),c("div",nt))],10,Ze))),128)),d.value.length===0&&!y.value?(l(),c("div",at," 暂无通知消息 ")):S("",!0)]),e(N,{style:{margin:"8px 0"}}),e(E,{command:"viewAll"},{default:o(()=>[e(B,null,{default:o(()=>[e(z(ve))]),_:1}),n[4]||(n[4]=h(" 查看全部通知 ",-1))]),_:1})]),_:1})]),default:o(()=>[e(f,{value:w.value,hidden:w.value===0},{default:o(()=>[e(k,{type:"text",icon:z(ve),class:"header-button"},null,8,["icon"])]),_:1},8,["value","hidden"])]),_:1}),e(L,{modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=m=>i.value=m),title:"通知消息",width:"560px"},{default:o(()=>[a("div",rt,[e(k,{text:"",size:"small",loading:y.value,onClick:Y},{default:o(()=>[...n[5]||(n[5]=[h("刷新",-1)])]),_:1},8,["loading"]),e(k,{text:"",size:"small",onClick:P},{default:o(()=>[...n[6]||(n[6]=[h("全部已读",-1)])]),_:1})]),e(T,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=m=>t.value=m),class:"notif-tabs",onTabChange:x},{default:o(()=>[e(V,{label:`全部(${b.value.all})`,name:"all"},null,8,["label"]),e(V,{label:`任务提醒(${b.value.task})`,name:"task"},null,8,["label"]),e(V,{label:`系统通知(${b.value.system})`,name:"system"},null,8,["label"]),e(V,{label:`日报提醒(${b.value.report})`,name:"report"},null,8,["label"])]),_:1},8,["modelValue"]),a("div",lt,[y.value?(l(),c("div",it,"加载中…")):(l(),c("div",ut,[(l(!0),c(ie,null,ue(g.value,m=>{var re;return l(),c("div",{key:m.id,class:pe(["notification-item",{unread:!m.is_read}])},[a("div",{class:"notification-content",onClick:ye=>K(m)},[a("div",ct,D(m.title),1),a("div",mt,D(m.message),1),a("div",_t,D(ce(m.created_at)),1)],8,dt),a("div",pt,[m.type==="task"&&((re=m.meta)!=null&&re.taskId)?(l(),$(k,{key:0,size:"small",type:"primary",text:"",onClick:xe(ye=>se(m),["stop"])},{default:o(()=>[...n[7]||(n[7]=[h("完成",-1)])]),_:1},8,["onClick"])):S("",!0)]),m.is_read?S("",!0):(l(),c("div",vt))],2)}),128)),g.value.length===0?(l(),c("div",ht," 暂无通知消息 ")):S("",!0)]))])]),_:1},8,["modelValue"]),e(_,{onCommand:U},{dropdown:o(()=>[e(q,null,{default:o(()=>[e(E,{command:"profile"},{default:o(()=>[e(B,null,{default:o(()=>[e(z(Ce))]),_:1}),n[8]||(n[8]=h(" 个人资料 ",-1))]),_:1}),e(E,{command:"settings"},{default:o(()=>[e(B,null,{default:o(()=>[e(z(ke))]),_:1}),n[9]||(n[9]=h(" 设置 ",-1))]),_:1}),e(E,{divided:"",command:"logout"},{default:o(()=>[e(B,null,{default:o(()=>[e(z(Le))]),_:1}),n[10]||(n[10]=h(" 退出登录 ",-1))]),_:1})]),_:1})]),default:o(()=>{var m;return[a("div",ft,[e(J,{size:32,src:Z.value},{default:o(()=>[h(D(ee.value),1)]),_:1},8,["src"]),a("span",gt,D((m=z(M).user)==null?void 0:m.username),1),e(B,{class:"dropdown-icon"},{default:o(()=>[e(z(Je))]),_:1})])]}),_:1})])]),_:1})}}},yt=X(kt,[["__scopeId","data-v-f2196b81"]]),wt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function bt(p,r){return l(),c("svg",wt,[...r[0]||(r[0]=[a("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[a("path",{d:"M3 3v18h18"}),a("path",{d:"M7 15a2 2 0 1 0 4 0a2 2 0 1 0-4 0m4-10a2 2 0 1 0 4 0a2 2 0 1 0-4 0m5 7a2 2 0 1 0 4 0a2 2 0 1 0-4 0m5-9l-6 1.5m-.887 2.15l2.771 3.695M16 12.5l-5 2"})],-1)])])}const xt=A({name:"tabler-chart-dots2",render:bt}),St={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function At(p,r){return l(),c("svg",St,[...r[0]||(r[0]=[a("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[a("path",{d:"M5 6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1z"}),a("path",{d:"M9 9h6v6H9zm-6 1h2m-2 4h2m5-11v2m4-2v2m7 5h-2m2 4h-2m-5 7v-2m-4 2v-2"})],-1)])])}const Mt=A({name:"tabler-cpu",render:At}),$t={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ct(p,r){return l(),c("svg",$t,[...r[0]||(r[0]=[a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 7a4 4 0 1 0 8 0a4 4 0 1 0-8 0M3 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2m1-17.87a4 4 0 0 1 0 7.75M21 21v-2a4 4 0 0 0-3-3.85"},null,-1)])])}const Bt=A({name:"tabler-users",render:Ct}),It={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Et(p,r){return l(),c("svg",It,[...r[0]||(r[0]=[a("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[a("path",{d:"M3 21h4L20 8a1.5 1.5 0 0 0-4-4L3 17zM14.5 5.5l4 4"}),a("path",{d:"M12 8L7 3L3 7l5 5M7 8L5.5 9.5M16 12l5 5l-4 4l-5-5m4 1l-1.5 1.5"})],-1)])])}const Tt=A({name:"tabler-tools",render:Et}),Dt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Nt(p,r){return l(),c("svg",Dt,[...r[0]||(r[0]=[a("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[a("path",{d:"M19 4v16H7a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2z"}),a("path",{d:"M19 16H7a2 2 0 0 0-2 2M9 8h6"})],-1)])])}const Vt=A({name:"tabler-book2",render:Nt}),zt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Rt(p,r){return l(),c("svg",zt,[...r[0]||(r[0]=[a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.615 20H7a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8m-3 5l2 2l4-4M9 8h4m-4 4h2"},null,-1)])])}const jt=A({name:"tabler-checklist",render:Rt}),Ht={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Lt(p,r){return l(),c("svg",Ht,[...r[0]||(r[0]=[a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1m0 12h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1m10-4h4a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1m0-8h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1"},null,-1)])])}const Ot=A({name:"tabler-layout-dashboard",render:Lt}),qt={class:"sidebar-content"},Jt={__name:"AppSidebar",props:{collapsed:{type:Boolean,default:!1}},setup(p){const r=Ae(),u=ge(),M=j(()=>r.path),I=R(null),w=()=>{try{const i=JSON.parse(localStorage.getItem("user")||"null");I.value=i,console.log("User state updated:",i)}catch(i){console.error("Error parsing user from localStorage:",i),I.value=null}},d=j(()=>{if(u.user&&u.user.role){const t=u.user.role==="super_admin";return console.log("isSuperAdmin computed (authStore):",{user:u.user.username,role:u.user.role,isSuperAdmin:t}),t}const i=I.value;if(i&&i.role){const t=i.role==="super_admin";return console.log("isSuperAdmin computed (userState):",{user:i.username,role:i.role,isSuperAdmin:t}),t}try{const t=JSON.parse(localStorage.getItem("user")||"null"),b=t&&t.role==="super_admin";return console.log("isSuperAdmin computed (localStorage):",{user:t==null?void 0:t.username,role:t==null?void 0:t.role,isSuperAdmin:b}),b}catch(t){return console.error("Error reading from localStorage:",t),!1}}),y=j(()=>{if(u.user&&u.user.role){const t=u.user.role==="admin"||u.user.role==="super_admin";return console.log("isAdmin computed (authStore):",{user:u.user.username,role:u.user.role,isAdmin:t}),t}const i=I.value;if(i&&i.role){const t=i.role==="admin"||i.role==="super_admin";return console.log("isAdmin computed (userState):",{user:i.username,role:i.role,isAdmin:t}),t}try{const t=JSON.parse(localStorage.getItem("user")||"null"),b=t&&(t.role==="admin"||t.role==="super_admin");return console.log("isAdmin computed (localStorage):",{user:t==null?void 0:t.username,role:t==null?void 0:t.role,isAdmin:b}),b}catch(t){return console.error("Error reading from localStorage:",t),!1}});return de(()=>{console.log("AppSidebar mounted"),w(),window.addEventListener("storage",w),console.log("AuthStore state:",{user:u.user,isAuthenticated:u.isAuthenticated,isAdmin:u.isAdmin,isSuperAdmin:u.isSuperAdmin}),u.user||(console.log("No user in authStore, calling initAuth..."),u.initAuth())}),W(()=>u.user,i=>{console.log("AuthStore user changed:",i),i?I.value=i:w()},{immediate:!0}),W(d,i=>{console.log("isSuperAdmin changed:",i)},{immediate:!0}),W(y,i=>{console.log("isAdmin changed:",i)},{immediate:!0}),(i,t)=>{const b=Ot,g=v("el-icon"),x=v("el-menu-item"),C=jt,F=Ie,O=Be,Z=Vt,ee=ke,te=Tt,U=Bt,oe=Mt,G=xt,K=v("el-sub-menu"),se=v("el-menu"),P=v("el-aside");return l(),$(P,{width:p.collapsed?"64px":"240px",class:"app-sidebar",ref:"asideRef",style:fe(i.spotlightStyle),onMousemove:i.onMouseMove,onMouseleave:i.onMouseLeave},{default:o(()=>[a("div",qt,[e(se,{"default-active":M.value,collapse:p.collapsed,"unique-opened":!0,class:"sidebar-menu",router:""},{default:o(()=>[e(x,{index:"/dashboard"},{title:o(()=>[...t[0]||(t[0]=[h("仪表板",-1)])]),default:o(()=>[e(g,null,{default:o(()=>[e(b)]),_:1})]),_:1}),e(x,{index:"/tasks"},{title:o(()=>[...t[1]||(t[1]=[h("任务管理",-1)])]),default:o(()=>[e(g,null,{default:o(()=>[e(C)]),_:1})]),_:1}),e(x,{index:"/reports"},{title:o(()=>[...t[2]||(t[2]=[h("日报管理",-1)])]),default:o(()=>[e(g,null,{default:o(()=>[e(F)]),_:1})]),_:1}),e(x,{index:"/analytics"},{title:o(()=>[...t[3]||(t[3]=[h("数据分析",-1)])]),default:o(()=>[e(g,null,{default:o(()=>[e(O)]),_:1})]),_:1}),y.value?(l(),$(x,{key:0,index:"/knowledge-base"},{title:o(()=>[...t[4]||(t[4]=[h("知识库",-1)])]),default:o(()=>[e(g,null,{default:o(()=>[e(Z)]),_:1})]),_:1})):S("",!0),d.value?(l(),$(x,{key:1,index:"/settings"},{title:o(()=>[...t[5]||(t[5]=[h("设置",-1)])]),default:o(()=>[e(g,null,{default:o(()=>[e(ee)]),_:1})]),_:1})):S("",!0),y.value?(l(),$(K,{key:2,index:"admin-menu"},{title:o(()=>[e(g,null,{default:o(()=>[e(te)]),_:1}),t[6]||(t[6]=a("span",null,"管理功能",-1))]),default:o(()=>[d.value?(l(),$(x,{key:0,index:"/admin/users"},{title:o(()=>[...t[7]||(t[7]=[h("用户管理",-1)])]),default:o(()=>[e(g,null,{default:o(()=>[e(U)]),_:1})]),_:1})):S("",!0),e(x,{index:"/admin/groups"},{title:o(()=>[...t[8]||(t[8]=[h("组别管理",-1)])]),default:o(()=>[e(g,null,{default:o(()=>[e(U)]),_:1})]),_:1}),d.value?(l(),$(x,{key:1,index:"/admin/ai"},{title:o(()=>[...t[9]||(t[9]=[h("AI配置",-1)])]),default:o(()=>[e(g,null,{default:o(()=>[e(oe)]),_:1})]),_:1})):S("",!0),d.value?(l(),$(x,{key:2,index:"/admin/metrics"},{title:o(()=>[...t[10]||(t[10]=[h("自定义指标",-1)])]),default:o(()=>[e(g,null,{default:o(()=>[e(G)]),_:1})]),_:1})):S("",!0)]),_:1})):S("",!0)]),_:1},8,["default-active","collapse"])])]),_:1},8,["width","style","onMousemove","onMouseleave"])}}},Ft=X(Jt,[["__scopeId","data-v-552380e4"]]),Ut={__name:"AppLayout",setup(p){const r=R(!0),u=()=>{r.value=!r.value};return(M,I)=>{const w=v("router-view"),d=v("el-main"),y=v("el-container"),i=Me("click-spark");return l(),$(y,{class:"app-layout"},{default:o(()=>[e(Ft,{collapsed:r.value},null,8,["collapsed"]),e(y,{class:"main-container"},{default:o(()=>[e(yt,{onToggleSidebar:u}),$e((l(),$(d,{class:"app-main bubble-bg"},{default:o(()=>[e(w)]),_:1})),[[i,{color:"rgb(153,255,133)"}]])]),_:1})]),_:1})}}},Qt=X(Ut,[["__scopeId","data-v-7477194b"]]);export{Qt as default};
