import{m as y,c as b,o as v,a as s,_ as C,d as L,e as R,C as S,k as r,j as n,v as U,h as l,u as z,D as f,l as p,p as _}from"./index-un4HNty9.js";import{U as B}from"./user-5wh1rPjN.js";const F={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function H(w,a){return v(),b("svg",F,[...a[0]||(a[0]=[s("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[s("path",{d:"M5 13a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2z"}),s("path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0-2 0m-3-5V7a4 4 0 1 1 8 0v4"})],-1)])])}const I=y({name:"tabler-lock",render:H}),K={class:"login-container"},M={class:"login-card"},N={__name:"Login",setup(w){const a=z(),c=L(),m=R(),o=S({username:"",password:"",remember_me:!0}),x={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:50,message:"用户名长度在 2 到 50 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:100,message:"密码长度至少 6 位",trigger:"blur"}]},i=async()=>{if(m.value)try{if(!await m.value.validate())return;await c.login({username:o.username,password:o.password,remember_me:o.remember_me})&&a.push("/dashboard")}catch(d){console.error("Login error:",d)}};return(d,e)=>{const g=l("el-input"),u=l("el-form-item"),h=l("el-checkbox"),k=l("el-button"),V=l("el-form");return v(),b("div",K,[s("div",M,[e[5]||(e[5]=s("div",{class:"login-header"},[s("h1",null,"OPSIGHT"),s("p",null,"智能任务与日报管理系统")],-1)),r(V,{ref_key:"loginFormRef",ref:m,model:o,rules:x,class:"login-form",onSubmit:U(i,["prevent"])},{default:n(()=>[r(u,{prop:"username"},{default:n(()=>[r(g,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=t=>o.username=t),placeholder:"请输入用户名",size:"large","prefix-icon":p(B),clearable:"",onKeyup:f(i,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),r(u,{prop:"password"},{default:n(()=>[r(g,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t),placeholder:"请输入密码",size:"large","prefix-icon":p(I),"show-password":"",onKeyup:f(i,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),r(u,null,{default:n(()=>[r(h,{modelValue:o.remember_me,"onUpdate:modelValue":e[2]||(e[2]=t=>o.remember_me=t)},{default:n(()=>[...e[3]||(e[3]=[_("记住我（30天）",-1)])]),_:1},8,["modelValue"])]),_:1}),r(u,null,{default:n(()=>[r(k,{type:"primary",size:"large",loading:p(c).loading,class:"login-button",onClick:i},{default:n(()=>[...e[4]||(e[4]=[_(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),e[6]||(e[6]=s("div",{class:"login-footer"},[s("p",null,"© 2025 OPSIGHT. All rights reserved.")],-1))])])}}},q=C(N,[["__scopeId","data-v-0565e4b1"]]);export{q as default};
