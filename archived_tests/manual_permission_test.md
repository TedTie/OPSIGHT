# 权限控制手动测试指南

## 测试目标
验证组别管理和任务创建的权限控制是否正常工作

## 测试环境
- 前端地址: http://localhost:3001
- 后端地址: http://localhost:8000

## 测试用户
1. **超级管理员**: super_admin / 123456
2. **普通管理员**: admin / 123456

## 测试步骤

### 1. 超级管理员权限测试

#### 1.1 登录超级管理员
- 访问 http://localhost:3001/login
- 用户名: `super_admin`
- 密码: `123456`
- 点击登录

#### 1.2 测试组别管理权限
- 访问 "系统管理" -> "组织管理" 页面
- **预期结果**:
  - ✅ 应该能看到 "新增组织" 按钮
  - ✅ 在操作列中应该能看到 "编辑" 按钮
  - ✅ 在操作列中应该能看到 "删除" 按钮
  - ✅ 在操作列中应该能看到 "成员" 按钮

#### 1.3 测试成员管理权限
- 点击任意组织的 "成员" 按钮
- **预期结果**:
  - ✅ 应该能看到 "添加成员" 按钮
  - ✅ 在成员列表中应该能看到 "移除" 按钮

#### 1.4 测试任务创建权限
- 访问 "任务管理" 页面
- 点击 "创建任务" 按钮
- 在分配类型中选择 "指定组"
- 点击 "分配组" 下拉框
- **预期结果**:
  - ✅ 应该能看到所有组织选项（MYC-SS01Team, MYC-LP01Team 等）

### 2. 普通管理员权限测试

#### 2.1 登录普通管理员
- 访问 http://localhost:3001/login
- 用户名: `admin`
- 密码: `123456`
- 点击登录

#### 2.2 测试组别管理权限
- 访问 "系统管理" -> "组织管理" 页面
- **预期结果**:
  - ❌ 不应该看到 "新增组织" 按钮
  - ❌ 在操作列中不应该看到 "编辑" 按钮
  - ❌ 在操作列中不应该看到 "删除" 按钮
  - ✅ 在操作列中应该能看到 "成员" 按钮

#### 2.3 测试成员管理权限
- 点击任意组织的 "成员" 按钮
- **预期结果**:
  - ❌ 不应该看到 "添加成员" 按钮
  - ❌ 在成员列表中不应该看到 "移除" 按钮

#### 2.4 测试任务创建权限
- 访问 "任务管理" 页面
- 点击 "创建任务" 按钮
- 在分配类型中选择 "指定组"
- 点击 "分配组" 下拉框
- **预期结果**:
  - ✅ 只应该看到自己所在的组织选项（通常是1个组）

## 测试结果记录

### 超级管理员测试结果
- [ ] 新增组织按钮可见
- [ ] 编辑按钮可见
- [ ] 删除按钮可见
- [ ] 成员按钮可见
- [ ] 添加成员按钮可见
- [ ] 移除按钮可见
- [ ] 可选择所有组织

### 普通管理员测试结果
- [ ] 新增组织按钮隐藏
- [ ] 编辑按钮隐藏
- [ ] 删除按钮隐藏
- [ ] 成员按钮可见
- [ ] 添加成员按钮隐藏
- [ ] 移除按钮隐藏
- [ ] 只能选择自己的组织

## 问题记录
如果发现任何不符合预期的行为，请记录：
1. 具体的问题描述
2. 当前用户角色
3. 问题出现的页面
4. 预期行为 vs 实际行为

## 修复验证
所有测试项目都通过后，权限控制修复完成。