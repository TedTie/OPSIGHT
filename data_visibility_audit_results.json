{
  "audit_timestamp": "2025-11-04T13:25:40.014193",
  "base_url": "http://localhost:8000",
  "users_tested": [
    {
      "username": "admin",
      "expected_role": "super_admin",
      "actual_user_data": {
        "id": 1,
        "username": "admin",
        "role": "super_admin",
        "identity_type": "sa",
        "full_identity": "超级管理员 - SA(超级分析师)",
        "ai_knowledge_branch": "ANALYTICS",
        "organization": "系统管理",
        "group_id": 2,
        "group_name": "MYC-LP01Team",
        "is_active": true,
        "is_admin": true,
        "is_super_admin": true,
        "created_at": "2025-10-30T11:04:14"
      },
      "login_success": true,
      "login_error": null,
      "api_tests": {
        "user_me": {
          "endpoint": "/api/v1/auth/me",
          "status_code": 200,
          "success": true,
          "data": {
            "id": 1,
            "username": "admin",
            "role": "super_admin",
            "identity_type": "sa",
            "full_identity": "超级管理员 - SA(超级分析师)",
            "ai_knowledge_branch": "ANALYTICS",
            "organization": "系统管理",
            "group_id": 2,
            "group_name": "MYC-LP01Team",
            "is_active": true,
            "is_admin": true,
            "is_super_admin": true,
            "created_at": "2025-10-30T11:04:14"
          },
          "error": null,
          "record_count": 1
        },
        "tasks": {
          "endpoint": "/api/v1/tasks",
          "status_code": 200,
          "success": true,
          "data": [
            {
              "id": 31,
              "title": "全员任务1 - 系统维护",
              "description": "系统维护任务，所有用户都需要了解",
              "task_type": "checkbox",
              "assignment_type": "all",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 32,
              "title": "全员任务2 - 安全培训",
              "description": "安全培训任务，所有用户都需要参与",
              "task_type": "checkbox",
              "assignment_type": "all",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 33,
              "title": "全员任务3 - 政策更新",
              "description": "政策更新通知，所有用户都需要查看",
              "task_type": "checkbox",
              "assignment_type": "all",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 34,
              "title": "全员任务4 - 年度总结",
              "description": "年度总结任务，所有用户都需要参与",
              "task_type": "checkbox",
              "assignment_type": "all",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 35,
              "title": "个人任务1 - 分配给admin",
              "description": "分配给admin的个人任务",
              "task_type": "checkbox",
              "assignment_type": "user",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 36,
              "title": "个人任务2 - 分配给jlpss-chenjianxiong",
              "description": "分配给jlpss-chenjianxiong的个人任务",
              "task_type": "checkbox",
              "assignment_type": "user",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 37,
              "title": "个人任务3 - 分配给test_user",
              "description": "分配给test_user的个人任务",
              "task_type": "checkbox",
              "assignment_type": "user",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 38,
              "title": "个人任务4 - 分配给admin",
              "description": "分配给admin的另一个个人任务",
              "task_type": "checkbox",
              "assignment_type": "user",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 39,
              "title": "组任务1 - MYC-SS01Team",
              "description": "分配给MYC-SS01Team组的任务",
              "task_type": "checkbox",
              "assignment_type": "group",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 40,
              "title": "组任务2 - MYC-LP01Team",
              "description": "分配给MYC-LP01Team组的任务",
              "task_type": "checkbox",
              "assignment_type": "group",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            }
          ],
          "error": null,
          "record_count": 10
        },
        "users": {
          "endpoint": "/api/v1/users",
          "status_code": 200,
          "success": true,
          "data": [
            {
              "id": 1,
              "username": "admin",
              "role": "super_admin",
              "identity_type": "sa",
              "full_identity": "超级管理员 - SA(超级分析师)",
              "ai_knowledge_branch": "ANALYTICS",
              "organization": "系统管理",
              "group_id": 2,
              "group_name": "MYC-LP01Team",
              "is_active": true,
              "is_admin": true,
              "is_super_admin": true,
              "created_at": "2025-10-30T11:04:14"
            },
            {
              "id": 2,
              "username": "jlpss-chenjianxiong",
              "role": "admin",
              "identity_type": "ss",
              "full_identity": "管理员 - SS(班主任)",
              "ai_knowledge_branch": "SS",
              "organization": "海外后端销售TL",
              "group_id": 1,
              "group_name": "MYC-SS01Team",
              "is_active": true,
              "is_admin": true,
              "is_super_admin": false,
              "created_at": "2025-10-30T13:54:55"
            },
            {
              "id": 3,
              "username": "test_user",
              "role": "user",
              "identity_type": "ss",
              "full_identity": "普通用户 - SS(班主任)",
              "ai_knowledge_branch": "SS",
              "organization": "海外后端销售",
              "group_id": 1,
              "group_name": "MYC-SS01Team",
              "is_active": true,
              "is_admin": false,
              "is_super_admin": false,
              "created_at": "2025-10-31T12:29:37"
            }
          ],
          "error": null,
          "record_count": 3
        },
        "reports": {
          "endpoint": "/api/v1/reports",
          "status_code": 200,
          "success": true,
          "data": [
            {
              "id": 1,
              "user_id": 1,
              "work_date": "2025-11-03",
              "title": "更新后的测试日报",
              "content": "这是更新后的日报内容。",
              "work_hours": 8.0,
              "task_progress": "完成了API测试相关工作",
              "work_summary": "今天主要进行了API功能测试和修复",
              "mood_score": 8,
              "efficiency_score": 7,
              "call_count": 3,
              "call_duration": 45,
              "achievements": "成功修复了多个API问题",
              "challenges": "遇到了一些数据模型不匹配的问题",
              "tomorrow_plan": "继续完善系统功能",
              "ai_analysis": null,
              "created_at": "2025-11-03T12:31:58",
              "updated_at": "2025-11-03T12:31:58.642912"
            }
          ],
          "error": null,
          "record_count": 1
        }
      }
    },
    {
      "username": "jlpss-chenjianxiong",
      "expected_role": "admin",
      "actual_user_data": {
        "id": 2,
        "username": "jlpss-chenjianxiong",
        "role": "admin",
        "identity_type": "ss",
        "full_identity": "管理员 - SS(班主任)",
        "ai_knowledge_branch": "SS",
        "organization": "海外后端销售TL",
        "group_id": 1,
        "group_name": "MYC-SS01Team",
        "is_active": true,
        "is_admin": true,
        "is_super_admin": false,
        "created_at": "2025-10-30T13:54:55"
      },
      "login_success": true,
      "login_error": null,
      "api_tests": {
        "user_me": {
          "endpoint": "/api/v1/auth/me",
          "status_code": 200,
          "success": true,
          "data": {
            "id": 2,
            "username": "jlpss-chenjianxiong",
            "role": "admin",
            "identity_type": "ss",
            "full_identity": "管理员 - SS(班主任)",
            "ai_knowledge_branch": "SS",
            "organization": "海外后端销售TL",
            "group_id": 1,
            "group_name": "MYC-SS01Team",
            "is_active": true,
            "is_admin": true,
            "is_super_admin": false,
            "created_at": "2025-10-30T13:54:55"
          },
          "error": null,
          "record_count": 1
        },
        "tasks": {
          "endpoint": "/api/v1/tasks",
          "status_code": 200,
          "success": true,
          "data": [
            {
              "id": 31,
              "title": "全员任务1 - 系统维护",
              "description": "系统维护任务，所有用户都需要了解",
              "task_type": "checkbox",
              "assignment_type": "all",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 32,
              "title": "全员任务2 - 安全培训",
              "description": "安全培训任务，所有用户都需要参与",
              "task_type": "checkbox",
              "assignment_type": "all",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 33,
              "title": "全员任务3 - 政策更新",
              "description": "政策更新通知，所有用户都需要查看",
              "task_type": "checkbox",
              "assignment_type": "all",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 34,
              "title": "全员任务4 - 年度总结",
              "description": "年度总结任务，所有用户都需要参与",
              "task_type": "checkbox",
              "assignment_type": "all",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 35,
              "title": "个人任务1 - 分配给admin",
              "description": "分配给admin的个人任务",
              "task_type": "checkbox",
              "assignment_type": "user",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 36,
              "title": "个人任务2 - 分配给jlpss-chenjianxiong",
              "description": "分配给jlpss-chenjianxiong的个人任务",
              "task_type": "checkbox",
              "assignment_type": "user",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 37,
              "title": "个人任务3 - 分配给test_user",
              "description": "分配给test_user的个人任务",
              "task_type": "checkbox",
              "assignment_type": "user",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 38,
              "title": "个人任务4 - 分配给admin",
              "description": "分配给admin的另一个个人任务",
              "task_type": "checkbox",
              "assignment_type": "user",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 39,
              "title": "组任务1 - MYC-SS01Team",
              "description": "分配给MYC-SS01Team组的任务",
              "task_type": "checkbox",
              "assignment_type": "group",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 40,
              "title": "组任务2 - MYC-LP01Team",
              "description": "分配给MYC-LP01Team组的任务",
              "task_type": "checkbox",
              "assignment_type": "group",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            }
          ],
          "error": null,
          "record_count": 10
        },
        "users": {
          "endpoint": "/api/v1/users",
          "status_code": 200,
          "success": true,
          "data": [
            {
              "id": 1,
              "username": "admin",
              "role": "super_admin",
              "identity_type": "sa",
              "full_identity": "超级管理员 - SA(超级分析师)",
              "ai_knowledge_branch": "ANALYTICS",
              "organization": "系统管理",
              "group_id": 2,
              "group_name": "MYC-LP01Team",
              "is_active": true,
              "is_admin": true,
              "is_super_admin": true,
              "created_at": "2025-10-30T11:04:14"
            },
            {
              "id": 2,
              "username": "jlpss-chenjianxiong",
              "role": "admin",
              "identity_type": "ss",
              "full_identity": "管理员 - SS(班主任)",
              "ai_knowledge_branch": "SS",
              "organization": "海外后端销售TL",
              "group_id": 1,
              "group_name": "MYC-SS01Team",
              "is_active": true,
              "is_admin": true,
              "is_super_admin": false,
              "created_at": "2025-10-30T13:54:55"
            },
            {
              "id": 3,
              "username": "test_user",
              "role": "user",
              "identity_type": "ss",
              "full_identity": "普通用户 - SS(班主任)",
              "ai_knowledge_branch": "SS",
              "organization": "海外后端销售",
              "group_id": 1,
              "group_name": "MYC-SS01Team",
              "is_active": true,
              "is_admin": false,
              "is_super_admin": false,
              "created_at": "2025-10-31T12:29:37"
            }
          ],
          "error": null,
          "record_count": 3
        },
        "reports": {
          "endpoint": "/api/v1/reports",
          "status_code": 200,
          "success": true,
          "data": [
            {
              "id": 1,
              "user_id": 1,
              "work_date": "2025-11-03",
              "title": "更新后的测试日报",
              "content": "这是更新后的日报内容。",
              "work_hours": 8.0,
              "task_progress": "完成了API测试相关工作",
              "work_summary": "今天主要进行了API功能测试和修复",
              "mood_score": 8,
              "efficiency_score": 7,
              "call_count": 3,
              "call_duration": 45,
              "achievements": "成功修复了多个API问题",
              "challenges": "遇到了一些数据模型不匹配的问题",
              "tomorrow_plan": "继续完善系统功能",
              "ai_analysis": null,
              "created_at": "2025-11-03T12:31:58",
              "updated_at": "2025-11-03T12:31:58.642912"
            }
          ],
          "error": null,
          "record_count": 1
        }
      }
    },
    {
      "username": "test_user",
      "expected_role": "user",
      "actual_user_data": {
        "id": 3,
        "username": "test_user",
        "role": "user",
        "identity_type": "ss",
        "full_identity": "普通用户 - SS(班主任)",
        "ai_knowledge_branch": "SS",
        "organization": "海外后端销售",
        "group_id": 1,
        "group_name": "MYC-SS01Team",
        "is_active": true,
        "is_admin": false,
        "is_super_admin": false,
        "created_at": "2025-10-31T12:29:37"
      },
      "login_success": true,
      "login_error": null,
      "api_tests": {
        "user_me": {
          "endpoint": "/api/v1/auth/me",
          "status_code": 200,
          "success": true,
          "data": {
            "id": 3,
            "username": "test_user",
            "role": "user",
            "identity_type": "ss",
            "full_identity": "普通用户 - SS(班主任)",
            "ai_knowledge_branch": "SS",
            "organization": "海外后端销售",
            "group_id": 1,
            "group_name": "MYC-SS01Team",
            "is_active": true,
            "is_admin": false,
            "is_super_admin": false,
            "created_at": "2025-10-31T12:29:37"
          },
          "error": null,
          "record_count": 1
        },
        "tasks": {
          "endpoint": "/api/v1/tasks",
          "status_code": 200,
          "success": true,
          "data": [
            {
              "id": 31,
              "title": "全员任务1 - 系统维护",
              "description": "系统维护任务，所有用户都需要了解",
              "task_type": "checkbox",
              "assignment_type": "all",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 32,
              "title": "全员任务2 - 安全培训",
              "description": "安全培训任务，所有用户都需要参与",
              "task_type": "checkbox",
              "assignment_type": "all",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 33,
              "title": "全员任务3 - 政策更新",
              "description": "政策更新通知，所有用户都需要查看",
              "task_type": "checkbox",
              "assignment_type": "all",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 34,
              "title": "全员任务4 - 年度总结",
              "description": "年度总结任务，所有用户都需要参与",
              "task_type": "checkbox",
              "assignment_type": "all",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 37,
              "title": "个人任务3 - 分配给test_user",
              "description": "分配给test_user的个人任务",
              "task_type": "checkbox",
              "assignment_type": "user",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            },
            {
              "id": 39,
              "title": "组任务1 - MYC-SS01Team",
              "description": "分配给MYC-SS01Team组的任务",
              "task_type": "checkbox",
              "assignment_type": "group",
              "priority": "medium",
              "target_amount": null,
              "target_quantity": null,
              "jielong_target_count": null,
              "jielong_config": null,
              "due_date": null,
              "status": "pending",
              "created_by": 1,
              "created_at": "2025-11-03T13:55:14",
              "updated_at": null
            }
          ],
          "error": null,
          "record_count": 6
        },
        "users": {
          "endpoint": "/api/v1/users",
          "status_code": 403,
          "success": false,
          "data": null,
          "error": "权限不足 (预期行为)",
          "record_count": 0
        },
        "reports": {
          "endpoint": "/api/v1/reports",
          "status_code": 200,
          "success": true,
          "data": [],
          "error": null,
          "record_count": 0
        }
      }
    }
  ],
  "summary": {
    "total_users_tested": 3,
    "successful_logins": 3,
    "failed_logins": 0,
    "api_success_rates": {
      "user_me": {
        "success": 3,
        "total": 3
      },
      "tasks": {
        "success": 3,
        "total": 3
      },
      "users": {
        "success": 2,
        "total": 3
      },
      "reports": {
        "success": 3,
        "total": 3
      }
    },
    "critical_issues": []
  }
}